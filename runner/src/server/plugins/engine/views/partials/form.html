{% from "button/macro.njk" import govukButton %}
{% from "summary-list/macro.njk" import govukSummaryList -%}

<form method="post" enctype="multipart/form-data" autocomplete="on">
  <input type="hidden" name="crumb" value="{{crumb}}"/> 

  {% if page.isRepeatingFieldPageController and details %}  
    {{ componentList(components) }}
  {{ govukButton({
    attributes: { id: "add-another"},
    classes: "govuk-button govuk-button--secondary",
    text: page.saveText
    })
  }}
  {% if page.options.customText.samePageTitle %}
  <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--m" for="event-name">
    {{page.options.customText.samePageTitle}}
  </label>
  </h1>
  {% endif %}
  <dl class="govuk-summary-list" style="margin-bottom: 0;">      
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">
       {{page.options.customText.columnOneTitle}}
      </dt>
      <dd class="govuk-summary-list__value">
        <strong>{{page.options.customText.columnTwoTitle}}</strong>
      </dd>        
        <dd class="govuk-summary-list__actions">           
            <strong>{{page.options.customText.columnThreeTitle}}</strong>            
        </dd>        
    </div>  
  </dl>
  {{details.length}}
    {%if not details.rows.length %}    
    <p class="govuk-body" style="margin-top: 30px;">
      <strong>{{page.noCostsTitle}}</strong>      
    </p>
    <p class="govuk-body">
      {{page.noCostsText}}
    </p>
    <hr />
    {% else %}
    {{ govukSummaryList(details) }}
    {% endif %}
  {% else %}
  {{ componentList(components) }}
  {% endif %}  

  {% if not (components[0].type == "FlashCard") %}
    {% if isStartPage %}
      {{ govukButton({ attributes: { id: "submit" }, text: page.continueText}) }}
    {% else %}
      {% if page.isRepeatingFieldPageController and page.isSamePageDisplayMode %}
        {% if details.rows.length %}
          {{ govukButton({ attributes: { id: "submit" }, text: page.saveAndContinueText, name: "next", value: "continue"}) }}
        {% endif %}
      {% else %}
        {{ govukButton({ attributes: { id: "submit" }, text: page.saveAndContinueText }) }}
      {% endif %}
    {% endif %}
  {% endif %}
</form>
